<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Overview &#8212; Elk DevKit  documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/blank.css?v=c4c5097c" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=4a788ece" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script src="../_static/documentation_options.js?v=8a448e45"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Blackboard Page" href="blackboard.html" />
    <link rel="prev" title="Elk Pi Hardware" href="getting_started_with_development_kit_elk_pi_hardware.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    
<a class="navbar-brand" href="../index.html">
<p class="title">Elk DevKit</p>
</a>

    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../intro/index.html">
  Introduction
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../sushi/index.html">
  Sushi
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../embedded/index.html">
  Embedded OS reference
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index.html">
  Legacy documentation
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/elk-audio" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="elk_examples_overview_legacy.html">
   Legacy Examples Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sensei_configuration_format.html">
   Sensei Overview and Configuration Format
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="getting_started_with_development_kit_elk_pi_hardware.html">
   Elk Pi development kit
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="blackboard.html">
   Blackboard Page
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Overview
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#features">
     Features
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#assembly-content-and-accessories">
     Assembly content and accessories
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#raspberry-pi-guidelines">
     Raspberry Pi guidelines
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#connectors-and-pinout">
     Connectors and pinout
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#status-leds">
     Status LEDs
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#power-requirements">
   Power requirements
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#recommended-power-supply">
     Recommended Power Supply
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#power-consumption">
     Power Consumption
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#alternative-power-supply">
     Alternative Power Supply
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#audio-cv-configurations">
   Audio/CV configurations
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#audio-i-o">
   Audio I/O
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#eurorack-compatibility">
     Eurorack Compatibility
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mini-jack-input">
     Mini-jack input
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#stereo-preamp">
     Stereo Preamp
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#headphones-output">
     Headphones output
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#analog-and-digital-gpios">
   Analog and Digital GPIOs
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#digital-io">
     Digital IO
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#analog-inputs">
     Analog Inputs
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#connection-guidelines-for-gpio-peripherals">
     Connection guidelines for GPIO peripherals
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cv-gate-i-o">
   CV &amp; GATE I/O
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cv-i-o">
     CV I/O
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#gate-i-o">
     GATE I/O
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#uart-interface">
   UART interface
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#midi-din-i-o">
   MIDI DIN I/O
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#board-dimensions">
   Board dimensions
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <p><img alt="image0" src="../_images/image27.jpg" /></p>
<p><strong>Author:</strong> Elk</p>
<p><strong>Contact:</strong> <a class="reference external" href="mailto:tech&#37;&#52;&#48;elk&#46;audio">tech<span>&#64;</span>elk<span>&#46;</span>audio</a></p>
<p><strong>Revision:</strong> H</p>
<p><strong>Last modification:</strong> 2019-12-02</p>
<p><em>DISCLAIMER</em></p>
<p><strong>Copyright © 2019 Modern Ancient Instruments Networked AB. Modern
Ancient Instruments Networked AB</strong> reserves the right to make changes to
this specification and its products at any time without notice. <strong>Modern
Ancient Instruments Networked AB</strong> assumes no liability arising out of
the application or use of any information, products or services
described herein. Customers are advised to obtain the latest version of
this device specification before relying on any published information
and before placing orders for products. <strong>Modern Ancient Instruments
Networked AB</strong> does not recommend the use of any of its products in
critical applications where the failure or may cause damage to property,
injury or death. Products are not authorized for use in such
applications.</p>
<section id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h1>
<section id="features">
<h2>Features<a class="headerlink" href="#features" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Texas instrument PCM3168 audio codec, 24 Bit, 48 / 96 / 192 kHz</p></li>
<li><p>4 fixed analog audio inputs (2.54 mm pitch pin-header)</p></li>
<li><p>4 fixed analog audio outputs (2.54 mm pitch pin-header)</p></li>
<li><p>Headphone stereo output (3.5 mm Stereo Jack) w/ adjustable volume</p></li>
<li><p>Stereo Input jack (3.5 mm Stereo Jack)</p></li>
<li><p>2 fixed Control Voltage outputs (2.54 mm pitch pin-header)</p></li>
<li><p>2 Gate/Trigger inputs (2.54 mm pitch pin-header)</p></li>
<li><p>4 Gate/Trigger output (2.54 mm pitch pin-header)</p></li>
<li><p>2 configurable audio/CV inputs (2.54 mm pitch pin-header)</p></li>
<li><p>2 configurable audio/CV outputs (2.54 mm pitch pin-header)</p></li>
<li><p>16 analog sensor inputs (2.54 mm pitch pin-header)</p></li>
<li><p>32 digital inputs (2.54 mm pitch pin-header)</p></li>
<li><p>32 digital outputs (2.54 mm pitch pin-header)</p></li>
<li><p>5-poles DIN MIDI In/Out (2.54 mm pitch pin-header)</p></li>
<li><p>1 I2C interface (2.54 mm pitch pin-header)</p></li>
</ul>
</section>
<section id="assembly-content-and-accessories">
<h2>Assembly content and accessories<a class="headerlink" href="#assembly-content-and-accessories" title="Link to this heading">¶</a></h2>
<table class="table">
<tbody>
<tr class="row-odd"><td><p><strong>Item</strong></p></td>
<td><p><strong>Q</strong></p></td>
<td><p><strong>Manufacturer, Part Number</strong></p></td>
<td><p><strong>Supplier</strong></p></td>
</tr>
<tr class="row-even"><td><p>Raspberry Pi Model 3B+</p></td>
<td><p>1</p></td>
<td><p>/</p></td>
<td><p><a class="reference external" href="https://www.raspberrypi.org/products/raspberry-pi-3-model-b-plus/">Your local distributor</a></p></td>
</tr>
<tr class="row-odd"><td><p>Official Rpi Power adapter 5.1V 2.5A microUSB</p></td>
<td><p>1</p></td>
<td><p>/</p></td>
<td><p><a class="reference external" href="https://www.raspberrypi.org/products/raspberry-pi-universal-power-supply/">Your local distributor</a></p></td>
</tr>
<tr class="row-even"><td><p>microSD card 8/16/32 GB</p></td>
<td><p>1</p></td>
<td><p>/</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>Heat Sink for Raspberry Pi CPU</p></td>
<td><p>1</p></td>
<td><p>Adafruit, 3038</p></td>
<td><p><a class="reference external" href="https://www.mouser.se/ProductDetail/Adafruit/3083?qs=sGAEpiMZZMuKfYsiLTIqmKSvFn1Bw19gHz0pRNuazWQ%3D">Mouser</a></p></td>
</tr>
<tr class="row-even"><td><p>18 mm m-f spacer</p></td>
<td><p>4</p></td>
<td><p>M2113-2545-AL</p></td>
<td><p>Mouser</p></td>
</tr>
<tr class="row-odd"><td><p>5 mm f-f spacers</p></td>
<td><p>4</p></td>
<td><p>M1252-2545-AL</p></td>
<td><p>Mouser</p></td>
</tr>
<tr class="row-even"><td><p>M2.5x4 steel screw</p></td>
<td><p>4</p></td>
<td><p>Keystone 29300</p></td>
<td><p>Mouser</p></td>
</tr>
<tr class="row-odd"><td><p>Shunt connector 4 pos</p></td>
<td><p>5</p></td>
<td><p>Samtec, SAM10619-ND</p></td>
<td><p>Digikey</p></td>
</tr>
<tr class="row-even"><td><p>Jtag-USB cable <a class="footnote-reference brackets" href="#id2" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p></td>
<td><p>1</p></td>
<td><p>Digilent</p></td>
<td><p><a class="reference external" href="https://store.digilentinc.com/jtag-usb-cable/">Digilent store</a></p></td>
</tr>
</tbody>
</table>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id2" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>Not needed for developing</p>
</aside>
</aside>
<p>For assembling the board, follow the steps in our guide for <a class="reference external" href="getting_started_with_development_kit_elk_pi_hardware.html">getting started with Elk Pi Hardware.</a></p>
</section>
<section id="raspberry-pi-guidelines">
<h2>Raspberry Pi guidelines<a class="headerlink" href="#raspberry-pi-guidelines" title="Link to this heading">¶</a></h2>
<p>The following guidelines must be followed when using the Raspberry Pi
with the <em>Elk Pi</em> board. We are not responsible for possible damages
caused to your Raspberry Pi computer.</p>
<ul class="simple">
<li><p>Use the <strong>Raspberry Pi 3 Model B+</strong>.</p></li>
<li><p>Use the <a class="reference external" href="https://www.raspberrypi.org/products/raspberry-pi-universal-power-supply">official RPi power adapter</a> (5.1V, 2.5A),
and follow the power instructions listen in the
section “Power Requirements” of this document.</p></li>
<li><p>Apply the heat-sink on the Raspberry Pi CPU to avoid overheating
damages (Figure 1).</p></li>
<li><p>Always “cold plug” the Elk Pi board on the Rpi to avoid short
circuits due to a wrong connection (plug the Elk Pi first, then
power on the RPi).</p></li>
<li><p>If adopting the alternative PSU method (Page 10) make sure provide
<strong>not more than 5.1V</strong> and make sure to respect the polarity of
J12 (Figure 5).</p></li>
</ul>
</section>
<section id="connectors-and-pinout">
<h2>Connectors and pinout<a class="headerlink" href="#connectors-and-pinout" title="Link to this heading">¶</a></h2>
<p><em>Figure 5:</em></p>
<p><img alt="image5" src="../_images/image16.jpg" /></p>
<p><em>Figure 6:</em></p>
<p><img alt="image6" src="../_images/image13.jpg" /></p>
</section>
<section id="status-leds">
<h2>Status LEDs<a class="headerlink" href="#status-leds" title="Link to this heading">¶</a></h2>
<p>Two of the Raspberry Pi GPIOS are directly wired to two general purpose
LEDs, labeled on the board as “STATUS”.</p>
<p><a class="reference internal" href="../_images/image28.jpg"><img alt="image7" src="../_images/image28.jpg" style="width: 500px;" /></a></p>
<table class="table">
<tbody>
<tr class="row-odd"><td><p><strong>Designator</strong></p></td>
<td><p><strong>Color</strong></p></td>
<td><p><strong>Raspberry Pi GPIO</strong></p></td>
</tr>
<tr class="row-even"><td><p>D1</p></td>
<td><p>Red</p></td>
<td><p>Pin 32 (BCM 12)</p></td>
</tr>
<tr class="row-odd"><td><p>D2</p></td>
<td><p>Green</p></td>
<td><p>Pin 37 (BCM 26)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="power-requirements">
<h1>Power requirements<a class="headerlink" href="#power-requirements" title="Link to this heading">¶</a></h1>
<p>Elk Pi is fully powered from the 5V pin header exposed on the Raspberry
Pi, so <em>no additional power supply is needed other than the Raspberry
Pi’ one</em>. Just plug the Elk Pi board on top of the Raspberry Pi, power
the Raspberry Pi, and the green “ON” LED (D5) will turn on. If this
doesn’t happen, you might be using an incorrect power supply. Otherwise,
the board is likely malfunctioning. Note that you can power the
Raspberry Pi before plugging the Elk Pi onto it, there is no functional
requirement related to this sequence, just make sure that the pins
correctly line up to avoid possible short circuits.</p>
<section id="recommended-power-supply">
<h2>Recommended Power Supply<a class="headerlink" href="#recommended-power-supply" title="Link to this heading">¶</a></h2>
<p>The power supply that you will use to power the Rpi, has to have the
following specifications:</p>
<ul class="simple">
<li><p>5 VDC</p></li>
<li><p>&gt;=2.5 A</p></li>
<li><p>Micro USB plug</p></li>
</ul>
<p>Because of the voltage drop that the power cable usually causes, <strong>we
recommend using the official Raspberry Pi Power Supply available</strong>
<a class="reference external" href="https://www.raspberrypi.org/products/raspberry-pi-universal-power-supply/">here</a>.
Its 5.1V output and steady 2.5A guarantee proper power conditions for
the Elk Pi. For some power-efficient applications the Elk Pi may work
also if the Raspberry is powered from a less reliable power sources like
phone chargers, USB ports or power-banks, but always try to <strong>avoid
using third-party power sources to minimize possible poor supply
conditions</strong>.</p>
</section>
<section id="power-consumption">
<h2>Power Consumption<a class="headerlink" href="#power-consumption" title="Link to this heading">¶</a></h2>
<p>The power consumption of the Elk Pi board highly depends on the usage of
the board or, in other words, what you connect to it.</p>
<p>Since the Elk Pi and the raspberry Pi share the same 5V source, the
current available for the Elk Pi to use is:</p>
<p><img alt="image101" src="../_images/image101.png" /></p>
<p>It’s reported from many sources (<a class="reference external" href="https://www.pidramble.com/wiki/benchmarks/power-consumption">like this
one</a>)
that the Raspberry Pi can draw at maximum around 1A of current with a
400% CPU stress test, so the Elk Pi will have at least 1.5 A to
function, and this will be enough current in most use cases.</p>
<p>Idle Power consumption on 5V pin (Elk Pi only) = 200 - 300 mA</p>
<p>Idle Power consumption on 5V pin (Elk Pi+Rpi) = 800 - 950 mA</p>
</section>
<section id="alternative-power-supply">
<h2>Alternative Power Supply<a class="headerlink" href="#alternative-power-supply" title="Link to this heading">¶</a></h2>
<p>In the standard configuration, the Elk Pi is taking the power from the
5V pin of the raspberry Pi, which is directly coming from the micro USB
power supply. However, it is also possible to have a different power
configuration, where the power is provided from an external source
through the pins of J12 of the Elk Pi board (refer to Figure 4).</p>
<p>In this case, the Elk Pi is powering the Raspberry Pi through the
external source connected to J12. <strong>Do not use the alternative power
supply (J12) if the Raspberry Pi is powered from its micro USB PSU (and
viceversa).</strong> Only one power source must provide power to the system.
This alternative power method is intended for special use cases where is
not practical to have the default microUSB power supply. The power
requirement is, clearly the same stated previously: 5V, 2.5A.</p>
</section>
</section>
<section id="audio-cv-configurations">
<h1>Audio/CV configurations<a class="headerlink" href="#audio-cv-configurations" title="Link to this heading">¶</a></h1>
<p>One of the Elk Pi main features is its audio/cv configurability. The
board has a total of 6 inputs and 8 output channels. A total of 4
channels, two for the Inputs and two for the outputs, are individually
configurable to work for either CV or Audio signals. <em>Figure 6</em> below
illustrates the possible configurations:</p>
<p><em>Figure 7:</em></p>
<p><img alt="image102" src="../_images/image102.jpg" /></p>
<p>As you can see from <em>Figure 7</em>, there are two mode-switches for the
input and two for the output. The switches are implemented using
standard 2x3 pin headers in combination with a dual jumper connector.
Move the dual jumper connector of the respective header (J7, J8, J10,
J11) as shown in Figure 7 to switch between CV or audio functionality of
the channel. Every header refer to a single channel and when, for
example, the switch is set to “Audio”, the respective CV pin will not be
functioning, so <strong>be sure to match the CV/Audio configuration of your
board, with the actual pins you will be using.</strong> <strong>If the dual jumper is
removed and no electrical connection is made on the header, the channel
will not work at all, you must keep the dual jumper either to select
“Audio” or “CV”.</strong> Finally, make sure that the dual jumper is properly
is oriented with the connections parallel to the long side of the header
(Figure 8).</p>
<p><em>Figure 8:</em></p>
<table class="table">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../_images/image22.jpg"><img alt="image9" src="../_images/image22.jpg" style="width: 200px;" /></a></p>
<blockquote>
<div><p><em>CV Selected</em></p>
</div></blockquote>
</td>
<td><p><a class="reference internal" href="../_images/image23.jpg"><img alt="image10" src="../_images/image23.jpg" style="width: 200px;" /></a></p>
<blockquote>
<div><p><em>Audio Selected</em></p>
</div></blockquote>
</td>
<td><p><a class="reference internal" href="../_images/image21.jpg"><img alt="image8" src="../_images/image21.jpg" style="width: 200px;" /></a></p>
<blockquote>
<div><p><em>BAD CONNECTION</em></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</section>
<section id="audio-i-o">
<h1>Audio I/O<a class="headerlink" href="#audio-i-o" title="Link to this heading">¶</a></h1>
<p>The board presents a maximum of 6 audio inputs (if J7 and J8 are on
“audio” configuration) and 6 audio outputs (if J10 and J11 are on
“audio” configuration). The first two input channels are high impedance
and fed into a +10 dB preamp for guitar/bass inputs. (check the chapter
“Stereo preamp” for further information)</p>
<table class="table">
<tbody>
<tr class="row-odd"><td><p>Input Impedance Ch 1,2</p></td>
<td><p>1 MΩ</p></td>
</tr>
<tr class="row-even"><td><p>Input Impedance Ch 3,4,5,6</p></td>
<td><p>122 kΩ</p></td>
</tr>
<tr class="row-odd"><td><p>Max Input signal amplitude (all channels, preamp OFF)</p></td>
<td><p>5 Vpp</p></td>
</tr>
<tr class="row-even"><td><p>Max Input signal amplitude (Ch1, 2 , preamp ON)</p></td>
<td><p>1.5 Vpp</p></td>
</tr>
<tr class="row-odd"><td><p>Line output Impedance (all channels)</p></td>
<td><p>47 Ω</p></td>
</tr>
<tr class="row-even"><td><p>Max output voltage (all channels)</p></td>
<td><p>4 Vpp</p></td>
</tr>
</tbody>
</table>
<p>The Codec <a class="reference external" href="http://www.ti.com/lit/ds/symlink/pcm3168a.pdf">Texas Instruments
PCM3168</a>, supports 6
input channels and 8 output channels at 24 bit, at 48kHz. Since the
Raspberry Pi SOC natively supports only 2 channels, a CPLD is introduced
between the Codec and the Raspberry Pi to achieve multi-channel support.</p>
<p><strong>Important Note for “More cowbell” boards</strong> <a class="footnote-reference brackets" href="#id5" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>: Input channel 1 (RING) and 2 (TIP) shall be
accessed through the input stereo Jack J13. If you desire, instead, to
use the pins to connect audio to channel 1 and 2 (pin 11 and pin 12 on
J4), you will need to remove the ground protection introduced from J13
that would be automatically removed once a stereo minijack is used to
provide the signal. To do this, you have two options:</p>
<ol class="arabic simple">
<li><p>Connect a “dummy” stereo mini jack to J13 (recommended).</p></li>
<li><p>Desolder J13.</p></li>
</ol>
<p>If you use the pins as your input source for channel 1 and/or 2 and
neither of the two options is applied, the channel/s will be muted.</p>
<p><strong>Important Note for “People are strange” boards</strong> <a class="footnote-reference brackets" href="#id5" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>: In this version of the board is to configure the input channels 1 and 2 to receive the signal either from the on board mini jack input (J13) or the pins 11 and 12 on J4. This is done through the solder jumpers SJ1 and SJ2 that you can find on the back side of the board below J13.</p>
<p><em>Figure 9:</em></p>
<p><img alt="sodler_junctions" src="../_images/solder_junctions.jpg" /></p>
<ul class="simple">
<li><p>To configure the inputs from the pins 11,12 on J4, break the small copper connection between the two pads on SJ1 (Audio input 1) and SJ2 (Audio input 2). You can use a precision knife or a small cutter blade.</p></li>
<li><p>To configure the inputs from the Stereo input jack J13, keep the two pads of the solder joints connected</p></li>
</ul>
<p>If you want to come back to the jack configuration after you cut the two traces you can use a soldering iron to create a small solder blob to restore the connection.</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id5" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id3">1</a>,<a role="doc-backlink" href="#id4">2</a>)</span>
<p>To understand which version of the board you have, just read the quote on the back of the board.</p>
</aside>
</aside>
<section id="eurorack-compatibility">
<h2>Eurorack Compatibility<a class="headerlink" href="#eurorack-compatibility" title="Link to this heading">¶</a></h2>
<p>The Elk pi board is designed to be interfaceable with the Eurorack world
thanks to its CV and Gate capabilities. However, the audio levels are
not directly compatible with the Eurorack standards. Audio signals
coming from a Eurorack system, can be very loud (typically 10 Vpp), so
make sure that all the inputs signals are brought to line level (max
5Vpp) before feeding them to the Elk Pi. <strong>Do not feed output from
oscillators directly to the Elk Pi board.</strong></p>
<p>If you desire to build an Eurorack module based on the Elk Pi with audio
input and output, you will need to make sure to attenuate the input
signal before feeding it to the board, (for example with an attenuator
module). The line level output might sound a bit weak in a eurorack
system, but this is less concerning since it is likely to find source of
gain in your signal path (in the worst case, from your output module).</p>
</section>
<section id="mini-jack-input">
<h2>Mini-jack input<a class="headerlink" href="#mini-jack-input" title="Link to this heading">¶</a></h2>
<p>A 3.5 mm stereo jack input (J13) is present on the board. This is
directly connected to input channels 1 (RING) and 2 (TIP). The same two
inputs are also reported on the pin headers like the rest of the
channels. The function of the jack is to be able to get some signals
into the board without having to design a hat for the Elk Pi, which is
required to access most of the I/O on the board. Since channel 1 and 2
of the board goes through the preamp, it is also possible to connect an
instrument-level signal into it, using a mini-jack to mono jack
splitter.</p>
</section>
<section id="stereo-preamp">
<h2>Stereo Preamp<a class="headerlink" href="#stereo-preamp" title="Link to this heading">¶</a></h2>
<p>The board has a two-channel preamp with a fixed gain of +10dB (3.16
times). <strong>The preamp is only available on channels 1 and 2 and it can be
activated or deactivated through the mode switch J14,</strong> in the same
fashion of the CV/Audio mode switch explained earlier. Note that in this
case, differently from theCV/Audio switch mechanism, if the header is
left open (without dual jumper plugged) the preamp is activated. Also in
this case a bad connection is established when the dual jumper is not
properly oriented, refer to Figure 10 for good connections examples.</p>
<p><em>Figure 10:</em></p>
<table class="table">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../_images/image20.jpg"><img alt="image12" src="../_images/image20.jpg" style="width: 200px;" /></a></p>
<blockquote>
<div><p><em>+0dB Selected</em></p>
</div></blockquote>
</td>
<td><p><a class="reference internal" href="../_images/image24.jpg"><img alt="image13" src="../_images/image24.jpg" style="width: 200px;" /></a></p>
<blockquote>
<div><p><em>+10dB Selected</em></p>
</div></blockquote>
</td>
<td><p><a class="reference internal" href="../_images/image19.jpg"><img alt="image11" src="../_images/image19.jpg" style="width: 200px;" /></a></p>
<blockquote>
<div><p><em>+10dB Selected</em></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p>For normal line-level input signals, the preamp amplification is most
likely not needed, so you may want to configure J14 on 0dB mode if you
are feeding a line-level signal, otherwise, clipping might occur.</p>
<p>If you are feeding an instrument-level signal (coming from a guitar or
bass for example) you definitely want to switch J14 on +10dB mode, to
boost the input.</p>
<p>Note: when the preamp is +0dB mode, the audio level of ch. 1 and 2 is
approximately 0.3dB higher with respect audio channel 3, 4, 5 and 6, due
to its high impedance.</p>
</section>
<section id="headphones-output">
<h2>Headphones output<a class="headerlink" href="#headphones-output" title="Link to this heading">¶</a></h2>
<p>The output channel 1 and 2 of the Codec are also available on the
headphone jack J5 (L = Ch 1, R = Ch2).</p>
<p>Max output power to each channel:</p>
<blockquote>
<div><p>150 mW &#64; 16 Ω</p>
<p>90 mW &#64; 32 Ω</p>
<p>50 mW &#64; 64 Ω</p>
</div></blockquote>
<p>Since the headphone and line-out share the same output filter from the
codec, the input signal into the headphone amplifier might be affected
by the heavy loads connected to the line-out jack. Be aware that by
short-circuiting the right channel (by using mono 6.3 mm to RCA plug for
example) the right channel will be muted on the headphones. You can
adjust the volume of the headphone output by means of the rotary
potentiometer R50. The volume is increased with a clockwise rotation.</p>
</section>
</section>
<section id="analog-and-digital-gpios">
<h1>Analog and Digital GPIOs<a class="headerlink" href="#analog-and-digital-gpios" title="Link to this heading">¶</a></h1>
<section id="digital-io">
<h2>Digital IO<a class="headerlink" href="#digital-io" title="Link to this heading">¶</a></h2>
<p>Digital IO is based on shift registers. Namely 74HC165 for input and
74HC595 for output. Logic level for both is 3.3V and exceeding it will
damage the whole GPIO subsystem permanently since the shift registers
are daisy chained. The inputs do not have any pullup- or pulldown
resistors! All inputs are captured simultaneously by toggling the
parallel load input of all input shift registers. Similarly all outputs
are written concurrently on the rising edge of the storage register
clock input.</p>
<table class="table">
<tbody>
<tr class="row-odd"><td><p>Input type</p></td>
<td><p>3.3V CMOS (without pull-up or pull-down resistors)</p></td>
</tr>
<tr class="row-even"><td><p>Input logic high level</p></td>
<td><p>&gt;1.5 V</p></td>
</tr>
<tr class="row-odd"><td><p>Input logic low level</p></td>
<td><p>&lt;0.5 V</p></td>
</tr>
<tr class="row-even"><td><p>Output type</p></td>
<td><p>3.3V CMOS (push &amp; pull)</p></td>
</tr>
<tr class="row-odd"><td><p>Max sink &amp; source current per output</p></td>
<td><p>4 mA</p></td>
</tr>
<tr class="row-even"><td><p>Read/Write frequency</p></td>
<td><p>Max 1 kHz (depends on SW configuration)</p></td>
</tr>
</tbody>
</table>
<p>32 Digital inputs (DIx) and 32 Digital outputs (DOx) are available on
the 40-pins male connectors J3 and J4 (refer to pinout). They shall be
used to connect buttons, switches, rotary encoders, rotary switches,
LEDs, LED rings, etc..</p>
</section>
<section id="analog-inputs">
<h2>Analog Inputs<a class="headerlink" href="#analog-inputs" title="Link to this heading">¶</a></h2>
<p>The analog inputs are based on one single channel 10-bit analog to
digital converter ADS70411 and an analog multiplexer 74HC4067. The
multiplexer is controlled by a single shift register that shares the
same SPI bus as digital GPIO but has dedicated storage register input
from the MCU. Only one channel can be read simultaneously by enabling
certain multiplexer and selecting desired channel.</p>
<table class="table">
<tbody>
<tr class="row-odd"><td><p>Input voltage range relative to GND</p></td>
<td><p>0V - 3.3V</p></td>
</tr>
<tr class="row-even"><td><p>Input impedance</p></td>
<td><p>600 kΩ</p></td>
</tr>
<tr class="row-odd"><td><p>Sampling frequency</p></td>
<td><p>Max 1 kHz (depends on SW configuration)</p></td>
</tr>
</tbody>
</table>
<p>16 Analog inputs are (Ax) are available on the 26-pins male connector J6
(refer to pinout). They shall be used to connect potentiometers, sliders
and sensors.</p>
</section>
<section id="connection-guidelines-for-gpio-peripherals">
<h2>Connection guidelines for GPIO peripherals<a class="headerlink" href="#connection-guidelines-for-gpio-peripherals" title="Link to this heading">¶</a></h2>
<p>Inputs and outputs of multi-pin peripheral device must be sequential
for the ease of software development. A perfect example would be
individual bits of an LED-ring situated around a rotary encoder.
The LEDs in this case should be connected to DO0…DOn in a way
that DO0 connects the first and DOn the last LED in the ring.
While it is not mandatory to start from DO0, it is very important
to keep outputs sequential. If multiple LED rings are
multiplexed, the common control signal of individual rings should
be also kept sequential and placed at the start or to the end of
the LED control pins.</p>
<p>The pins <strong>3V3A</strong> and <strong>3V3D</strong> shall be used as supply source for,
respectively, <strong>analog</strong> inputs and <strong>digital</strong> I/O.</p>
<p><strong>All the GPIOs are 3.3V compatible (not 5V compatible)</strong>.</p>
<p>Current sink and source from digital outputs should be kept lower than 4 mA per pin.</p>
<p>Use as reference the examples illustrated in the diagram below:</p>
<p><img alt="image14" src="../_images/image15.png" /></p>
</section>
</section>
<section id="cv-gate-i-o">
<h1>CV &amp; GATE I/O<a class="headerlink" href="#cv-gate-i-o" title="Link to this heading">¶</a></h1>
<section id="cv-i-o">
<h2>CV I/O<a class="headerlink" href="#cv-i-o" title="Link to this heading">¶</a></h2>
<p>Up to two CV inputs and four CV outputs are available on the board
(refer to <em>Figure 4</em> to understand the possible configurations). The CV
signals are processed using the same codec used for the audio. Note that
the Input HPF of the last two input channels of the codec are
deactivated by default to make the CV processing possible. The CV inputs
signals are sampled at the same frequency of the audio (48kHz), but they
are downsampled in software, so the effective sampling rate depends on
the buffer size. CV inputs that exceed the input range are clipped.</p>
<table class="table">
<tbody>
<tr class="row-odd"><td><p>Input dynamic range:</p></td>
<td><p>-5 : +5 V</p></td>
</tr>
<tr class="row-even"><td><p>Input impedance</p></td>
<td><p>122 kΩ</p></td>
</tr>
<tr class="row-odd"><td><p>Input polarity</p></td>
<td><p>Inverting <a class="footnote-reference brackets" href="#id7" id="id6" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a></p></td>
</tr>
<tr class="row-even"><td><p>CV Sampling frequency :</p></td>
<td><p>48 kHz/buffer size (depends on SW configuration)</p></td>
</tr>
<tr class="row-odd"><td><p>Output dynamic range:</p></td>
<td><p>0 : 10 V</p></td>
</tr>
<tr class="row-even"><td><p>Output impedance</p></td>
<td><p>47 Ω</p></td>
</tr>
<tr class="row-odd"><td><p>Output polarity:</p></td>
<td><p>Non Inverting</p></td>
</tr>
</tbody>
</table>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id7" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id6">3</a><span class="fn-bracket">]</span></span>
<p>Electrically it is an Inverting input, but the signal is corrected in SW
to be non inverting.</p>
</aside>
</aside>
</section>
<section id="gate-i-o">
<h2>GATE I/O<a class="headerlink" href="#gate-i-o" title="Link to this heading">¶</a></h2>
<p>Two gate inputs and four gate outputs are available on the board. The
input stage is inverting and is based on a transistor high-side switch
linked directly to a Raspberry Pi GPIO. The outputs are not inverting
and generated from four different Raspberry Pi GPIO and a series CMOS
buffer. Note that the gate IO pins can be also used as a trigger or
clock IOs, depending on the software configuration.</p>
<table class="table">
<tbody>
<tr class="row-odd"><td><p>Input High voltage range</p></td>
<td><p>&gt;= 0.8 V</p></td>
</tr>
<tr class="row-even"><td><p>Input Low voltage range</p></td>
<td><p>&lt; 0.7 V</p></td>
</tr>
<tr class="row-odd"><td><p>Input Sampling frequency</p></td>
<td><p>Depends on buffer size</p></td>
</tr>
<tr class="row-even"><td><p>Input polarity</p></td>
<td><p>Inverting <a class="footnote-reference brackets" href="#id9" id="id8" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>Output “High” voltage</p></td>
<td><p>5V</p></td>
</tr>
<tr class="row-even"><td><p>Output “Low” voltage</p></td>
<td><p>0V</p></td>
</tr>
<tr class="row-odd"><td><p>Max output source current</p></td>
<td><p>6 mA</p></td>
</tr>
<tr class="row-even"><td><p>Output polarity</p></td>
<td><p>Non inverting</p></td>
</tr>
</tbody>
</table>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id9" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id8">4</a><span class="fn-bracket">]</span></span>
<p>Electrically it is an Inverting input, but the signal is corrected in SW
to be non inverting.</p>
</aside>
</aside>
</section>
</section>
<section id="uart-interface">
<h1>UART interface<a class="headerlink" href="#uart-interface" title="Link to this heading">¶</a></h1>
<p>The UART interface can be accessed using the pins 32, 34, 36, 38, 39 of
J4 (Figure 11), that are labeled as “MIDI” since they are the same pins
that can be used to connect the MIDI 5 Poles DIN connectors. For this
reason the UART cannot be used if the dedicated pins are connected to
the MIDI DIN connectors.</p>
<p><em>Figure 11:</em></p>
<p><img alt="image15" src="../_images/image6.jpg" /></p>
<p>As you can see from Figure 11, to use the UART you must short (with a
female to female jumper) pin [36] and pin [32]. Pin [38] will be UART TX
and pin [34] will be UART RX. Figure 11 illustrates how to connect the
Elk Pi to your computer with a TTL to USB connector (FTDI).</p>
<p><em>Figure 12:</em></p>
<p><img alt="image100" src="../_images/image100.jpg" /></p>
</section>
<section id="midi-din-i-o">
<h1>MIDI DIN I/O<a class="headerlink" href="#midi-din-i-o" title="Link to this heading">¶</a></h1>
<p>Elk Pi has Optocoupled MIDI IN and MIDI OUT built in, so it is possible
to interface it with 5 pins DIN connectors. You might want to do this
when you will build your own User interface to plug on top of the Elk
Pi. The MIDI signal can be found on the connector J9 (refer to Figure 12
and Figure 5). On the following table you can see some guidelines on how
to make the connections:</p>
<table class="table">
<tbody>
<tr class="row-odd"><td></td>
<td><p><strong>Pin on J4</strong></p></td>
<td><p><strong>Pin Label</strong></p></td>
<td><p><strong>Pin on DIN socket</strong></p></td>
</tr>
<tr class="row-even"><td><p><strong>MIDI IN</strong></p></td>
<td><p>32</p></td>
<td><p>MIDI IN 4</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>34</p></td>
<td><p>MIDI IN 5</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>31/33/39…</p></td>
<td><p>GND</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p><strong>MIDI OUT</strong></p></td>
<td><p>36</p></td>
<td><p>MIDI OUT 4</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>38</p></td>
<td><p>MIDI OUT 5</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>31/33/39…</p></td>
<td><p>GND</p></td>
<td><p>2</p></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="../_images/image12.png"><img alt="image16" src="../_images/image12.png" style="width: 200px;" /></a></p>
</section>
<section id="board-dimensions">
<h1>Board dimensions<a class="headerlink" href="#board-dimensions" title="Link to this heading">¶</a></h1>
<p><img alt="image17" src="../_images/image11.jpg" /></p>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="getting_started_with_development_kit_elk_pi_hardware.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Elk Pi Hardware</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="blackboard.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Blackboard Page</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2023, Elk.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>