<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Sushi Public API Model &#8212; Elk DevKit  documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/blank.css?v=c4c5097c" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=4a788ece" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script src="../_static/documentation_options.js?v=8a448e45"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Controlling Sushi using gRPC" href="sushi_control_grpc.html" />
    <link rel="prev" title="Sushi Configuration" href="sushi_configuration_format.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    
<a class="navbar-brand" href="../index.html">
<p class="title">Elk DevKit</p>
</a>

    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../intro/index.html">
  Introduction
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="index.html">
  Sushi
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../embedded/index.html">
  Embedded OS reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../legacy/index.html">
  Legacy documentation
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/elk-audio" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="elk_examples_overview.html">
   Examples Overview
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="sushi_overview.html">
   Sushi: The DAW Inside Elk
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sushi_internal_plugins.html">
   Sushi Internal Plugins
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sushi_configuration_format.html">
   Sushi Configuration
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Sushi Public API Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sushi_control_grpc.html">
   Controlling Sushi using gRPC
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sushi_control_osc.html">
   Controlling Sushi using Open Sound Control
  </a>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../elkpy-doc/modules.html">
   gRPC helper libraries
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#processors-tracks-plugins-and-parameters">
   Processors, Tracks, Plugins and Parameters
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#global-sushi-settings">
   Global Sushi Settings
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#accessing-the-sushi-model">
   Accessing the Sushi Model
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="sushi-public-api-model">
<span id="id1"></span><h1>Sushi Public API Model<a class="headerlink" href="#sushi-public-api-model" title="Link to this heading">¶</a></h1>
<figure class="align-default" id="id2">
<img alt="img" src="../_images/sushi_architecture.png" />
<figcaption>
<p><span class="caption-text"><em>(Note that in the current 0.11 version of Sushi, return tracks are not yet implemented).</em></span><a class="headerlink" href="#id2" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<section id="processors-tracks-plugins-and-parameters">
<h2>Processors, Tracks, Plugins and Parameters<a class="headerlink" href="#processors-tracks-plugins-and-parameters" title="Link to this heading">¶</a></h2>
<p>The central entity in Sushi is the Processor. Plugins, once loaded, are processors.
And, Tracks are also processors, with the difference,
that tracks can in turn contain a set of processors (originating as instantiated plugins).</p>
<p>Tracks, and the processors they contain, are all contained within the Audio Graph, through which all
modification of this structure is managed.</p>
<p>Each processor has:</p>
<ul class="simple">
<li><p>A set of numerical parameters for realtime control</p></li>
<li><p>A set of properties containing string data</p></li>
<li><p>A set of input and output audio channels.</p></li>
<li><p>A set of input and output keyboard channels.</p></li>
<li><p>A set of programs (presets) which can be stored and recalled.</p></li>
</ul>
<p>The audio and MIDI channels of a track need to be explicitly connected to the
inputs and outputs of Sushi.</p>
<p>The processors contained in tracks all have the same audio and keyboard connection counts, chained within the track.</p>
<p>Each audio track can be set to use one of three modes for the audio channel configuration:
“mono”, “stereo” and “multibus”. The multibus option is for tracks with several stereo output busses routable to different output.</p>
<p>Individually, the parameters of each processor can be controlled by various means:</p>
<ul class="simple">
<li><p>Over MIDI Control Change.</p></li>
<li><p>Over Open Sound Control (OSC) messages.</p></li>
<li><p>Using CV connections.</p></li>
<li><p>Set directly over gRPC.</p></li>
<li><p>Set in the JSON configuration file to specific values on startup, or even played back over time during off-line processing.</p></li>
</ul>
<p>Also, mappings can be created to each processor, to echo/notify of the change of state of its internal parameters:</p>
<ul class="simple">
<li><p>Over OSC messages.</p></li>
<li><p>Using CV / Gate connections.</p></li>
<li><p>Using Notifications over gRPC.</p></li>
</ul>
<p>Tracks have the following parameters that can be controlled in realtime:</p>
<ul class="simple">
<li><p>“gain” : The volume of the main bus, in dB. Default: 0.83 (0dB). (Normalized from [-120, 24], Default: 0.0).</p></li>
<li><p>“pan” : The left - right panning of the main bus. Default: 0.5. (Normalized from [-1, 1], Default: 0.0).</p></li>
<li><p>“mute” : Mute the output of the track. Default: 0.0. (Normalized from [0, 1], Default: 0.0).</p></li>
</ul>
<p>Note that regular tracks with more than 2 channels and pre and post master tracks don’t have pan controls.
Multi-bus tracks have additional parameters to set the pan and gain of additional output busses:</p>
<ul class="simple">
<li><p>“gain_sub_n” : The volume of the n:th output bus, in dB. Default: 0.83 (0dB). (Normalized from [-120, 24], Default: 0.0).</p></li>
<li><p>“pan_sub_n” : The left - right panning of the n:th output bus. Default: 0.5. (Normalized from [-1, 1], Default: 0.0).</p></li>
</ul>
</section>
<section id="global-sushi-settings">
<h2>Global Sushi Settings<a class="headerlink" href="#global-sushi-settings" title="Link to this heading">¶</a></h2>
<p>Besides parameter and property set per processor, there are several global settings to control in Sushi.</p>
<p>The set of physical audio, MIDI and CV/Gate channels to use (limited of course by the hardware Sushi runs on), are defined during startup,
and are not changeable run-time.</p>
<p>The Global Transport is used to set tempo, time signature and play/stop states, for any plugins that have internal sequencing,
and for Ableton Link and midi clock.</p>
<p>During run-time, timing data on the processor utilization can be generated and fetched / subscribed to.</p>
</section>
<section id="accessing-the-sushi-model">
<h2>Accessing the Sushi Model<a class="headerlink" href="#accessing-the-sushi-model" title="Link to this heading">¶</a></h2>
<p>For many of the above, there are ways of accessing the data over both the JSON configuration file, MIDI, OSC and gRPC.
For others, it may only be possible over one of the above.</p>
<p>Generally the complexity of what can be achieved with each is as follows:</p>
<ul class="simple">
<li><p><a class="reference external" href="sushi_configuration_format.html">Configuration over JSON</a>: Everything that can be defined statically is possible to set in the configuration file.</p></li>
<li><p>The <a class="reference external" href="sushi_control_grpc.html">gRPC API</a>: covers the vast majority of all that can be accessed, adding also run-time access for dynamic alterations and monitoring.</p></li>
<li><p>The <a class="reference external" href="sushi_control_osc.html">Open Sound Control API</a> defines a streamlined sub-set of operations, selected to make sense for the common contexts of use for OSC: Efficient messages notifying of parameter changes; and enabling End-Users to create their own custom GUI’s and mappings to other media tools.</p></li>
<li><p>MIDI, CC and CV/Gate are also primarily defined to be accessible by end-users, for their integration of the audio device with their other technologies.</p></li>
</ul>
</section>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="sushi_configuration_format.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Sushi Configuration</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="sushi_control_grpc.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Controlling Sushi using gRPC</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2023, Elk.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>