<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Running Elk on your computer &#8212; Elk DevKit  documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="../_static/css/blank.css?v=c4c5097c" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=4a788ece" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script src="../_static/documentation_options.js?v=8a448e45"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Getting started on Raspberry Pi 4" href="getting_started_with_raspberry.html" />
    <link rel="prev" title="Elk Audio OS software licenses" href="license.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    
<a class="navbar-brand" href="../index.html">
<p class="title">Elk DevKit</p>
</a>

    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="index.html">
  Introduction
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../sushi/index.html">
  Sushi
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../embedded/index.html">
  Embedded OS reference
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../legacy/index.html">
  Legacy documentation
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/elk-audio" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="how_elk_works.html">
   What is Elk Audio OS?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="license.html">
   Elk Audio OS software licenses
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Running Elk on your computer
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="getting_started_with_raspberry.html">
   Getting started on Raspberry Pi 4
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="run_elk_on_boards.html">
   Run Elk on Boards
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#running-a-plugin-within-the-sushi-host">
   Running a plugin within the Sushi host
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#running-sushi-on-macos">
     Running Sushi on macOS
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#running-sushi-on-linux">
     Running Sushi on Linux
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#connecting-midi-to-sushi-on-linux">
       Connecting MIDI to Sushi on Linux
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#where-to-go-from-here">
   Where to go from here
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="running-elk-on-your-computer">
<h1>Running Elk on your computer<a class="headerlink" href="#running-elk-on-your-computer" title="Link to this heading">¶</a></h1>
<p>In this guide you will quickly see which the first steps are, to run a plugin from within Elk’s Sushi host, to get sound playing out of it, and to control its parameters using external control GUIs, such as the Python QT example GUI or Open Sound Control.</p>
<p><strong>IMPORTANT:</strong> All the below instructions and example files, are written for the context of running on a macOS or Linux desktop environment, not our development boards, for which the paths, binary files and command line arguments will differ. Refer instead to the <a class="reference internal" href="getting_started_with_raspberry.html"><span class="doc">getting started guide for Raspberry Pi</span></a>.</p>
<section id="running-a-plugin-within-the-sushi-host">
<h2>Running a plugin within the Sushi host<a class="headerlink" href="#running-a-plugin-within-the-sushi-host" title="Link to this heading">¶</a></h2>
<p>You can run Sushi natively on your own macOS or Linux computer, or on a Linux virtual machine.</p>
<p>We provide binary releases that pack prebuilt Sushi binaries, the MDA plugins suite in VST3 format and some example JSON configurations.</p>
<ol class="simple">
<li><p>Download the binary package for your system (Linux-x86_64, macOS-arm64 or macOS-x86_64) from the <a class="reference external" href="https://github.com/elk-audio/sushi/releases/tag/1.2.0">Sushi’s Github releases page</a>.</p></li>
<li><p>Unzip the archive wherever you prefer</p></li>
</ol>
<section id="running-sushi-on-macos">
<h3>Running Sushi on macOS<a class="headerlink" href="#running-sushi-on-macos" title="Link to this heading">¶</a></h3>
<p>If you downloaded the release .zip file from a browser, you’d need to clear the quarantine bit by doing this on the extracted <code class="docutils literal notranslate"><span class="pre">sushi</span></code> folder:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>xattr<span class="w"> </span>-rc<span class="w"> </span>sushi
</pre></div>
</div>
<p>To output sound to your soundcard, you can use the Coreaudio frontend, which will internally use the system’s devices. Simply run Sushi with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./sushi<span class="w"> </span>--coreaudio<span class="w"> </span>-c<span class="w"> </span>config_files/play_brickworks_synth.json
</pre></div>
</div>
<p>This example is self-contained and should play the bundled simple synthesizer using a short
sequence. By default, this will use the system’s default sound device. If you want to specify a different one, you can do that with the <code class="docutils literal notranslate"><span class="pre">--audio-output-device-uid</span></code> flag. You can get a list of devices UID by running <code class="docutils literal notranslate"><span class="pre">./sushi</span> <span class="pre">--coreaudio</span> <span class="pre">--dump-audio-devices</span></code>.</p>
<p>If you want to test MIDI I/O connection, this example will run another VST3 synthesizer plugin while
listening to MIDI events:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./sushi<span class="w"> </span>--coreaudio<span class="w"> </span>-c<span class="w"> </span>config_files/play_vst3.json
</pre></div>
</div>
<p>Sushi will connect by default to the first available MIDI input device on the system, if present. If you want to use a different MIDI device, you need to change the <code class="docutils literal notranslate"><span class="pre">rt_midi_device</span></code> field in the Sushi’s JSON config file, as explained in the <a class="reference internal" href="../sushi/sushi_configuration_format.html"><span class="doc">Sushi’s configuration format document</span></a>.</p>
</section>
<section id="running-sushi-on-linux">
<h3>Running Sushi on Linux<a class="headerlink" href="#running-sushi-on-linux" title="Link to this heading">¶</a></h3>
<p>The preferred way to connect to your soundcard on a Linux computer is through the JACK audio system. You need to have Jack audio configured on your computer, which is beyond the scope of this guide - but if you have trouble getting it working <a class="reference external" href="https://forum.elk.audio">definitely ask us on the forum</a> and we’ll do our best to get you going! We here show how use <a class="reference external" href="https://kx.studio/Repositories#Ubuntu">Cadence and Catia for managing Jack</a>, but you can use any other tools you prefer in their place.</p>
<p>Simply run the bundled AppImage with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./Sushi-x86_64.AppImage<span class="w"> </span>-j<span class="w"> </span>--connect-ports<span class="w"> </span>-c<span class="w"> </span>config_files/play_vst3.json
</pre></div>
</div>
<p>You should see the following status message if everything is fine:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>SUSHI<span class="w"> </span>-<span class="w"> </span>Sensus<span class="w"> </span>Universal<span class="w"> </span>Sound<span class="w"> </span>Host<span class="w"> </span>Interface
Copyright<span class="w"> </span><span class="m">2016</span>-2022<span class="w"> </span>Elk,<span class="w"> </span>Stockholm
</pre></div>
</div>
<p>Sushi should also appear as an audio device in your Jack configuration software - see the Catia screenshot below for an example:</p>
<p><img alt="CATIA with SUSHI" src="../_images/CATIA_with_SUSHI.png" />
​
Note that its outputs are already connected.</p>
<p>That is because the <em>–connect-ports</em> command-line option used, attempts to connect the Sushi outputs. If they are
not connected after running Sushi, you need to make these connections yourself, or you will not be able to hear any sound.</p>
<section id="connecting-midi-to-sushi-on-linux">
<h4>Connecting MIDI to Sushi on Linux<a class="headerlink" href="#connecting-midi-to-sushi-on-linux" title="Link to this heading">¶</a></h4>
<p>Now, although Sushi is successfully running and hosting the MDA jx10 vst3 synthesizer plugin, you will need to
connect it to a MIDI device to be able to play sound. For this, connect them with the <em>aconnect</em> tool:</p>
<ol class="simple">
<li><p>Start a new terminal window than the one where Sushi is running.</p></li>
<li><p>Type <em>‘aconnect -l’</em> to list all available MIDI devices and ports for connections:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>client<span class="w"> </span><span class="m">0</span>:<span class="w"> </span><span class="s1">&#39;System&#39;</span><span class="w"> </span><span class="o">[</span><span class="nv">type</span><span class="o">=</span>kernel<span class="o">]</span>
<span class="w">    </span><span class="m">0</span><span class="w"> </span><span class="s1">&#39;Timer           &#39;</span>
<span class="w">    </span><span class="m">1</span><span class="w"> </span><span class="s1">&#39;Announce        &#39;</span>
client<span class="w"> </span><span class="m">14</span>:<span class="w"> </span><span class="s1">&#39;Midi Through&#39;</span><span class="w"> </span><span class="o">[</span><span class="nv">type</span><span class="o">=</span>kernel<span class="o">]</span>
<span class="w">    </span><span class="m">0</span><span class="w"> </span><span class="s1">&#39;Midi Through Port-0&#39;</span>
<span class="w">    </span><span class="m">1</span><span class="w"> </span><span class="s1">&#39;Midi Through Port-1&#39;</span>
<span class="w">    </span><span class="m">2</span><span class="w"> </span><span class="s1">&#39;Midi Through Port-2&#39;</span>
<span class="w">    </span><span class="m">3</span><span class="w"> </span><span class="s1">&#39;Midi Through Port-3&#39;</span>
client<span class="w"> </span><span class="m">24</span>:<span class="w"> </span><span class="s1">&#39;UA-22&#39;</span><span class="w"> </span><span class="o">[</span><span class="nv">type</span><span class="o">=</span>kernel,card<span class="o">=</span><span class="m">2</span><span class="o">]</span>
<span class="w">    </span><span class="m">0</span><span class="w"> </span><span class="s1">&#39;UA-22 MIDI 1    &#39;</span>
client<span class="w"> </span><span class="m">28</span>:<span class="w"> </span><span class="s1">&#39;Launchkey MK2 25&#39;</span><span class="w"> </span><span class="o">[</span><span class="nv">type</span><span class="o">=</span>kernel,card<span class="o">=</span><span class="m">3</span><span class="o">]</span>
<span class="w">    </span><span class="m">0</span><span class="w"> </span><span class="s1">&#39;Launchkey MK2 25 MIDI 1&#39;</span>
<span class="w">    </span><span class="m">1</span><span class="w"> </span><span class="s1">&#39;Launchkey MK2 25 MIDI 2&#39;</span>
client<span class="w"> </span><span class="m">128</span>:<span class="w"> </span><span class="s1">&#39;Sushi&#39;</span><span class="w"> </span><span class="o">[</span><span class="nv">type</span><span class="o">=</span>user,pid<span class="o">=</span><span class="m">20167</span><span class="o">]</span>
<span class="w">    </span><span class="m">0</span><span class="w"> </span><span class="s1">&#39;listen:in       &#39;</span>
<span class="w">    </span><span class="m">1</span><span class="w"> </span><span class="s1">&#39;write:out       &#39;</span>
</pre></div>
</div>
<ol class="simple">
<li><p>The output you see will vary depending on your configuration, you should take note of the port number X for your MIDI controller (e.g. 28) and the one Y assigned to Sushi, here 128.</p></li>
<li><p>By typing <em>aconnect X Y</em>, or in this example <em>aconnect 28 128</em>, you should now hear sound when playing on your
keyboard.</p></li>
</ol>
<p>Tip: If you do not have a physical keyboard available, you can use the <em><strong>Virtual MIDI Piano Keyboard</strong></em> software (VMPK).</p>
</section>
</section>
</section>
<section id="where-to-go-from-here">
<h2>Where to go from here<a class="headerlink" href="#where-to-go-from-here" title="Link to this heading">¶</a></h2>
<p>If you have now a running Sushi instance on your computer, you’re ready to do more complex
operations through the many control options available. We recommend you to check out the following
articles to lear more about it:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../sushi/elk_examples_overview.html"><span class="doc">Sushi examples overview</span></a> : see some JSON configuration examples, how to control with the Python
GUI and through Open Sound Control</p></li>
<li><p><a class="reference internal" href="../sushi/sushi_overview.html"><span class="doc">Sushi overview</span></a> : learn more about Sushi’s internal architecture</p></li>
<li><p><a class="reference internal" href="../sushi/sushi_control_grpc.html"><span class="doc">Control Sushi with gRPC</span></a> : if you want to make an application
that access Sushi’s engine in its full power, the best way would be to master its gRPC API</p></li>
</ul>
</section>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="license.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Elk Audio OS software licenses</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="getting_started_with_raspberry.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Getting started on Raspberry Pi 4</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2023, Elk.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.2.6.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>